<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0"><title>Peiyuan的C++代码格式化工具</title><style>body{font-family:Arial,sans-serif;max-width:800px;margin:0 auto;padding:20px;line-height:1.6}.code-container{display:flex;flex-direction:column;gap:15px}textarea{width:calc(100% - 22px);height:300px;padding:10px;border:1px solid #ccc;border-radius:4px;font-family:'Courier New',monospace;font-size:14px;tab-size:4;resize:vertical}.output-wrapper{border:1px solid #ddd;border-radius:4px;background-color:#f8f8f8;margin-top:5px}.output-header{background-color:#eee;padding:8px 10px;border-bottom:1px solid #ddd;font-weight:bold;border-radius:4px 4px 0 0}.output-container{position:relative}#outputCode{width:calc(100% - 22px);height:280px;padding:10px;font-family:'Courier New',monospace;font-size:14px;tab-size:4;overflow:auto;white-space:pre;margin:0;border:none;border-radius:0 0 4px 4px}.copy-btn{position:absolute;top:10px;right:10px;padding:5px 10px;background-color:#4CAF50;color:white;border:none;border-radius:4px;cursor:pointer;font-size:12px;transition:background-color 0.3s;z-index:10}.copy-btn:hover{background-color:#45a049}.copy-btn.copied{background-color:#2196F3}button#formatBtn{padding:10px 15px;background-color:#4CAF50;color:white;border:none;border-radius:4px;cursor:pointer;font-size:16px;transition:background-color 0.3s}button#formatBtn:hover{background-color:#45a049}h1{color:#333;text-align:center;margin-bottom:20px}h2{margin:0 0 5px 0;color:#444;font-size:18px}.container{display:flex;flex-direction:column}</style></head><body><h1>C++代码格式化工具(去空格)</h1><h2><div style="text-align:center"><b>MADE BY PEIYUAN</b></div></h2><p>作用：把一段 C++ 代码中多余空格删去。</p><p>PS:使用 deepseek 辅助编写，srds 让它改了两位数次……</p><div class="code-container"><div class="container"><h2>输入代码:</h2><textarea id="inputCode" placeholder="在这里粘贴您的C++代码..."></textarea></div><button id="formatBtn">格式化代码</button><div class="container"><h2>格式化结果:</h2><div class="output-wrapper"><div class="output-header">格式化后的代码</div><div class="output-container"><pre id="outputCode"></pre><button class="copy-btn" id="copyBtn">Copy</button></div></div></div></div><script>document.getElementById('formatBtn').addEventListener('click',function(){const _0x4a3e=document.getElementById('inputCode').value;const _0x1f2d=_0x3a8d(_0x4a3e);document.getElementById('outputCode').textContent=_0x1f2d;const _0x2e4f=document.getElementById('outputCode');_0x2e4f.scrollTop=_0x2e4f.scrollHeight});document.getElementById('copyBtn').addEventListener('click',function(){const _0x3b5c=document.getElementById('outputCode').textContent;navigator.clipboard.writeText(_0x3b5c).then(()=>{const _0x5d21=document.getElementById('copyBtn');_0x5d21.textContent='Copied!';_0x5d21.classList.add('copied');setTimeout(()=>{_0x5d21.textContent='Copy';_0x5d21.classList.remove('copied')},800)}).catch(_0x4e2f=>{console.error('复制失败: ',_0x4e2f);alert('复制失败，请手动选择文本后复制')})});function _0x3a8d(_0x5b7d){const _0x3c8e=/("(?:\\"|[^"])*")|('(?:\\'|[^'])*')/g;const _0x1a4e=[];let _0x2f3e=_0x5b7d.replace(_0x3c8e,(_0x2d8e)=>{_0x1a4e.push(_0x2d8e);return`\u0000${_0x1a4e.length-1}\u0000`});const _0x4d6e=_0x2f3e.split('\n');let _0x5e9d=[];for(let _0x3f7d=0;_0x3f7d<_0x4d6e.length;_0x3f7d++){let _0x1c8e=_0x4d6e[_0x3f7d].trimEnd();if(_0x1c8e.trim()===''){continue}_0x1c8e=_0x1c8e.replace(/^(( {4})+)/g,(_0x3b6d)=>'\t'.repeat(_0x3b6d.length/4));if(_0x1c8e.trim().startsWith('#')){let _0x4f2e=_0x1c8e.replace(/\u0000(\d+)\u0000/g,(_0x3e9d,_0x2a7e)=>_0x1a4e[parseInt(_0x2a7e)]);_0x5e9d.push(_0x4f2e);continue}if(_0x1c8e.trim()==='{'){if(_0x5e9d.length>0){const _0x5d4e=_0x5e9d.pop();_0x5e9d.push(_0x5d4e+'{');continue}}const _0x2e9d=_0x1c8e.match(/^\s*/)[0];let _0x3d8e=_0x1c8e.slice(_0x2e9d.length);_0x3d8e=_0x3d8e.replace(/\s*([=+:.\-*/%<>!&|^~])\s*/g,'$1').replace(/\s*([\(\{\[<])\s*/g,'$1').replace(/\s*([\)\}\]>])\s*/g,'$1').replace(/\s*,\s*/g,',').replace(/\s*;\s*/g,';').replace(/\s*(->|::)\s*/g,'$1').replace(/\}\s*else\s*\{/g,'}else{').replace(/\}\s*catch\s*\(/g,'}catch(').replace(/\b\s+\b/g,' ').trim();let _0x4e9e=_0x3d8e.replace(/\u0000(\d+)\u0000/g,(_0x3f9d,_0x2b7e)=>_0x1a4e[parseInt(_0x2b7e)]);_0x5e9d.push(_0x2e9d+_0x4e9e)}return _0x5e9d.join('\n')}</script><br><br><br><br></body></html>
